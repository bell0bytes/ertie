"""
Index for the Ertië website.

:Authors:
    - Gilles Bellot

SPDX-FileCopyrightText: © 2024 Gilles Bellot <gilles.bellot@bell0bytes.eu>
SPDX-License-Identifier: AGPL-3.0-or-later
"""

########################################################################################################################
# INCLUDES #############################################################################################################
########################################################################################################################

# FLASK ################################################################################################################
import flask
import werkzeug.exceptions

########################################################################################################################
# BLUEPRINT ############################################################################################################
########################################################################################################################
bpMain = flask.Blueprint('main', __name__)


########################################################################################################################
# ROUTING ##############################################################################################################
########################################################################################################################

# INDEX ################################################################################################################
@bpMain.route('/')
@bpMain.route('/index')
def index():
    try:
        # get the current environment to show a warning message in case of DEV and TEST
        return flask.render_template('main/index.html', env=flask.current_app.config['ERTIE_ENV'])
    except Exception as e:
        raise werkzeug.exceptions.InternalServerError('Unable to render the main HTML template!') from e